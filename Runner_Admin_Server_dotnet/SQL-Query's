CREATE FUNCTION dbo.GetDateTimeInTimeZone()
RETURNS datetimeoffset
AS
BEGIN
    DECLARE @Result datetimeoffset;

    SET @Result = CONVERT(datetimeoffset, SYSDATETIMEOFFSET()) AT TIME ZONE 'Central Standard Time';

    RETURN @Result;
END;

SELECT dbo.GetDateTimeInTimeZone() AS CurrentDateTimeInSpecifiedTimeZone;

CREATE TABLE TarjetasRFID (
    UID_Tarjeta VARCHAR(8) PRIMARY KEY NOT NULL,
    NombreTarjeta VARCHAR(50) NOT NULL
);

CREATE TABLE RegistrosEventos (
    ID INT PRIMARY KEY IDENTITY(1,1) NOT NULL,
    UID_Tarjeta VARCHAR(8) NOT NULL,
    FechaHora DATETIME DEFAULT CURRENT_TIMESTAMP,
    FinalCarrera TIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (UID_Tarjeta) REFERENCES TarjetasRFID(UID_Tarjeta)
);
select * from Corredores
CREATE TABLE Corredores(
    ID INT PRIMARY KEY IDENTITY(1,1) NOT NULL,
    Nombre VARCHAR(100) NOT NULL,
    Edad INT NOT NULL
);

CREATE TABLE RegistrosCarrera(
    ID INT PRIMARY KEY IDENTITY(1,1) NOT NULL,
    ID_Corredor INT NOT NULL,
    UID_Tarjeta VARCHAR(8) NOT NULL ,
    FOREIGN KEY (ID_Corredor) REFERENCES Corredores(ID),
    FOREIGN KEY (UID_Tarjeta) REFERENCES TarjetasRFID(UID_Tarjeta)
);

select * from TarjetasRFID
INSERT INTO TarjetasRFID (UID_Tarjeta, NombreTarjeta) VALUES
('73A8EAFC', 'Tarjeta 1'),
('538C1BF5', 'Tarjeta 2'),
('B3530712', 'Tarjeta 3'),
('9368850D', 'Tarjeta 4');